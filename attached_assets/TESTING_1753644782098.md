# Testing Framework Guide

This document outlines the testing approach for our project in accordance with the guidelines in PLANNING.md.

## 🔍 Running Tests

To run tests, use the following commands:

```bash
# Run all tests
npx jest

# Run tests in watch mode (useful during development)
npx jest --watch

# Run tests with coverage report
npx jest --coverage
```

## 📂 Test Structure

Tests are organized to mirror the project structure:

```
tests/
├── server/        # Backend tests
├── shared/        # Shared code tests
└── src/           # Frontend tests
    ├── components/
    └── lib/
```

## 🧪 Test Guidelines

For each feature, write at least three types of tests:

1. **Expected Use**: Test normal operation
2. **Edge Cases**: Test with boundary values or special inputs
3. **Failure Cases**: Test error handling

## 📝 Example Tests

Review these example tests to understand our testing approach:

- `tests/shared/sample.test.ts` - Basic test example
- `tests/server/api-endpoints.test.ts` - API endpoint testing
- `tests/src/components/sample-component.test.tsx` - React component testing

## 🔎 Code Quality Tools

### File Size Checker

We enforce a 500-line limit on all files as specified in PLANNING.md.
Run the file size checker to identify files that exceed this limit:

```bash
node tools/check-file-size.js
```

### Documentation Generator

To maintain consistent documentation, use the docs template generator:

```bash
node tools/generate-docs-template.js path/to/your/file.ts
```

## 🔄 Integration with Development Workflow

1. Write tests before or alongside new features
2. Run tests before submitting changes
3. Check file sizes regularly to maintain modularity
4. Use the documentation generator for consistent documentation

## 🤔 Common Testing Scenarios

### API Endpoints
Test status codes, response formats, and error handling.

### React Components
Test rendering, user interactions, and state changes.

### Utility Functions
Test input validation, output correctness, and error handling.

## 📚 Resources for Learning

- [Jest Documentation](https://jestjs.io/docs/getting-started)
- [Testing Library Documentation](https://testing-library.com/docs/)
- [TypeScript Testing Best Practices](https://www.typescriptlang.org/docs/handbook/testing.html)